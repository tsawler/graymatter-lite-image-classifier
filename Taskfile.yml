# https://taskfile.dev

version: '3'

tasks:

  train-500:
    # works
    cmds:
      - go run . -samples 500 -batchsize 64 -iterations 200 -lr 0.001 

  train-1000:
    # trying batch size 64, learning rate 0.002
    cmds:
      - go run . -samples 1000 -batchsize 32 -lr 0.001 -hidden-layers 64 
    

  train-2000:
    cmds:
      - go run . -samples 2000 -batchsize 32 -lr 0.005 -hidden-layers 128 -iterations 600

  train-5000:
    cmds:
      - go run . -samples 5000 -batchsize 64 -lr 0.003 -hidden-layers 128 -iterations 600

  train-all:
    cmds:
    # What works:
    # 784 input → 128 hidden → 128 hidden → 94 output
    # HiddenSize: 128
    # OutputSizse: 94
    # InputSize: 784 (28 x 28)
    # Iterations: 30
    # LearningRate: 0.001 (try 0.01)
    # BatchSize: 32
      - go run . -batchsize=32 -iterations=30 -lr=0.01
